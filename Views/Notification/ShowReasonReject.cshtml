@using Microsoft.AspNetCore.Mvc;
@using IndustrialContoroler.Models.requestsViewModels;
@inject IndustrialContorolerDatabaseContext db;
@model List<Noti>

<!--

style="font-family: 'Almarai', sans-serif; font-size:20px;"

style="font-family: 'Cairo', sans-serif; font-size:18px;"

style="font-family: 'Almarai', sans-serif; font-size:18px;"


-->
@foreach (var item in Model.Where(x=>x.Title==@Helper.TitleReject))
{ 
    <div class="container-xxl flex-grow-1 container-p-y">

        <div  class="row invoice-preview">

            <div class="col-12 col-md-8 col-xl-9 mb-4 mb-md-0">

                <div id="Staistic_Table" class="card invoice-preview-card">

                    <div class="border border-0-0">


                        <div style="font-family: 'Almarai', sans-serif; font-size:16px; color: black;" class=" row text-center  d-flex justify-content-center align-items-center m-2">
                            <div class="col  ">
                                <p class="u-align-center u-text u-text-2 ">
                                    الجمهوريه اليمنية<br>وزارة
                                    الصناعه والتجارة<br>قطاع الصناعه<br>الادارة العامه للرقابه الصناعية
                                </p>
                            </div>

                            <div class="col ">

                                <img src="~/Images/IndustrialLogoReBk.png" class="rounded mx-auto d-block img-fluid img-thumbnail img-fluid " style="width: 125px; height: 125px;">

                            </div>
                            <div class="col">
                                <p class="">
                                    رقم إستمارة الطلب : 

                                    @item.FaId

                                    <br>
                                    تاريخ الرفض : 

                                    @item.Date


                                </p>
                            </div>

                        </div>
                    </div>

                    <hr class="my-0" />


                    <div class="text-center mt-3">
                        <h3 style="font-family: 'Cairo', sans-serif; font-size:18px;">
                            إستمارة طلب رقم 

                            @item.FaId

                        </h3>
                    </div>




                    <div class="card-body">
                        <div class="row p-0 p-sm-3">
                            <table class="table caption-top table-bordered text-center">
                                <thead>
                                    <tr>
                                        <th style="font-family: 'Almarai', sans-serif; font-size:16px;" scope="col"> العملية</th>
                                        <th style="font-family: 'Almarai', sans-serif; font-size:16px;" scope="col">  سبب الرفض</th>
                                        <th style="font-family: 'Almarai', sans-serif; font-size:16px;" scope="col">   المصدر</th>
                                    </tr>
                                </thead>
                                <tbody style="font-family: 'Cairo', sans-serif; font-size:14px;">
                                    <tr>
                                        <td>
                                            @* @foreach (var item in Model)
                                                {*@
                                            @item.Title

                                        </td>
                                        @if (item.Description.Length > 50)
                                        {
                                            <td style="width:600px; word-break:break-word;white-space:pre-wrap">

                                                @item.Description

                                            </td>

                                        }
                                        @if (item.Description.Length < 50)
                                        {
                                            <td>
                                                @item.Description

                                            </td>
                                        }
                                        <td>@item.Sender</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <hr class="my-0" />





                    <footer>
                        <div class="col border-end  d-flex  align-items-center p-3">
                            <span style="font-family: 'Almarai', sans-serif; font-size:16px; color: black;" class="fw-semibold"> حالة الطلب :</span>
                            <span style="font-family: 'Cairo', sans-serif; font-size:14px; color: black;" class="pe-3">مرفوض </span>
                        </div>
                    </footer>



                </div>

            </div>


            <div  class="invoice-actions col-12 col-md-4 col-xl-3">
                <div class="card">
                    <div style="font-family: 'Almarai', sans-serif; font-size:18px;" class="card-body">



                        <button type="button"  onclick="printDiv('Staistic_Table')" class="btn btn-primary d-grid w-100 mt-3"
                            data-bs-toggle="offcanvas"
                            data-bs-target="#addPaymentOffcanvas">
                            <span class="d-flex justify-content-center align-items-center text-nowrap"><i class="bx bx-printer bx-xs me-3"></i>طباعة </span>
                        </button>


                        <a asp-action="Index" asp-controller="FieldVisitForms" class="btn btn-secondary d-grid w-100 mt-3">
                            <span class="d-flex justify-content-center align-items-center text-nowrap"><i class="bx bx-arrow-back bx-xs me-3"></i>رجوع</span>
                        </a>
                    </div>
                </div>
            </div>

        </div>

    </div>
}

<!--------print Table----------->
<script>
    function printDiv(divName) {
        var printContents = document.getElementById(divName).innerHTML;
        var layoutheade = document.getElementById("layoutheade").innerHTML;
        var originalContents = document.body.innerHTML;

        document.body.innerHTML = layoutheade;
        document.body.innerHTML = printContents;

       
       
        //Print the page content
        window.print()
        //Set the print button to 'visible' again
        //[Delete this line if you want it to stay hidden after printing]
        
        document.body.innerHTML = originalContents;

    }

</script>
